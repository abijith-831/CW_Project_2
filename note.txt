const [columnVisibility, setColumnVisibility] = useState({
  CIN: true,
  CompanyName: true,
  CompanyROCcode: true,
  CompanyCategory: true,
  CompanyClass: true,

  // remaining hidden initially
  AuthorizedCapital: false,
  PaidupCapital: false,
  CompanyRegistrationdate_date: false,
  Registered_Office_Address: false,
  Listingstatus: false,
  CompanyStatus: false,
  CompanyStateCode: false,
  "CompanyIndian/Foreign Company": false,
  nic_code: false,
  CompanyIndustrialClassification: false
})

const table = useReactTable({
  data,
  columns,
  state: { columnVisibility },
  onColumnVisibilityChange: setColumnVisibility,
  getCoreRowModel: getCoreRowModel(),
})


{table.getAllColumns()
  .filter(column => column.getCanHide())
  .map(column => (
    <label key={column.id} className="flex items-center gap-2 px-3 py-2 hover:bg-gray-100 rounded cursor-pointer">
      <input
        type="checkbox"
        checked={column.getIsVisible()}
        onChange={column.getToggleVisibilityHandler()}
      />
      <span>{typeof column.columnDef.header === 'string' ? column.columnDef.header : column.id}</span>
    </label>
  ))
}
